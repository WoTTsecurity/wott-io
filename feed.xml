<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.6">Jekyll</generator><link href="https://wott.io/feed.xml" rel="self" type="application/atom+xml" /><link href="https://wott.io/" rel="alternate" type="text/html" /><updated>2020-01-10T15:30:24+00:00</updated><id>https://wott.io/feed.xml</id><title type="html">Web of Trusted Things</title><subtitle>Seamless security audit of Linux systems for DevOps teams.</subtitle><entry><title type="html">The DevSecOps Iceberg</title><link href="https://wott.io/blog/thoughts/2019/11/29/the-devsecops-iceberg" rel="alternate" type="text/html" title="The DevSecOps Iceberg" /><published>2019-11-29T10:00:00+00:00</published><updated>2019-11-29T10:00:00+00:00</updated><id>https://wott.io/blog/thoughts/2019/11/29/the-devsecops-iceberg</id><content type="html" xml:base="https://wott.io/blog/thoughts/2019/11/29/the-devsecops-iceberg">&lt;p&gt;Security is a complicated topic. There are countless attack vectors and threat models to take into consideration when designing a security strategy.&lt;/p&gt;

&lt;p&gt;Over the last year, we’ve spoken to companies of different sizes about their security strategies and practices. Based on these discussions, we’ve come up with something we call the DevSecOps Iceberg. The idea behind this is that too many organizations tend to only focus on the application layer or the network layer and turn a blind eye to everything else. This is a dangerous approach. Neglecting the other layers means that you may end up putting your entire infrastructure and data at risk.&lt;/p&gt;

&lt;p&gt;To begin, let’s define the three layers of the DevSecOps Iceberg and then explore what you can do to protect them:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Application Layer&lt;/li&gt;
  &lt;li&gt;Container Layer&lt;/li&gt;
  &lt;li&gt;Operating System Layer&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;(Do however note that this article is by no means a comprehensive security checklist. It is merely an overview of the common layers.)&lt;/p&gt;

&lt;h2 id=&quot;the-application-layer&quot;&gt;The Application Layer&lt;/h2&gt;

&lt;p&gt;Let’s start with the Application Layer, as this is likely the layer developers are most familiar with. Application security is a vast field by itself, but for the sake of this article, let’s limit the scope to vulnerable dependencies.&lt;/p&gt;

&lt;p&gt;It’s not an understatement to say that open source libraries are essential to modern developers. Regardless if you’re working on front-end or back-end services, you are most likely relying on a plethora of libraries to simplify (and speed up) your development. As a case in point, from Snyk’s &lt;a href=&quot;https://snyk.io/opensourcesecurity-2019/&quot;&gt;The state of open source security (2019)&lt;/a&gt; reports that there was an astonishing 317 billion JavaScript packages downloaded from &lt;code class=&quot;highlighter-rouge&quot;&gt;npm&lt;/code&gt; in 2018.&lt;/p&gt;

&lt;p&gt;With a larger reliance on 3rd party packages in our source code, we are exposing ourselves to new risks. For instance, last year the popular &lt;code class=&quot;highlighter-rouge&quot;&gt;npm&lt;/code&gt; package “event-stream” &lt;a href=&quot;https://www.linux.com/news/compromised-npm-package-event-stream/&quot;&gt;was compromised&lt;/a&gt; and as a consequence was able to pollute the entire supply chain of packages depending on this package. With more than 1.5m weekly downloads, this breach had a significant impact. As we are relying more on libraries, these types of attacks are likely to increase in the future.&lt;/p&gt;

&lt;p&gt;So how can you protect yourself against attacks like this? This largely depends on your development workflow. If you’re a modern company with frequent releases (daily or more) and a fully automated release pipeline using Continuous Integration (CI) and Contentions Delivery (CD), the best solution would be to include a dependency check as part of this pipeline. If a CVE is detected, the CI run should fail.&lt;/p&gt;

&lt;p&gt;If you are releasing less frequently, using a service where you can submit your dependencies for ongoing audit, which will then alert you might be a better choice for you.&lt;/p&gt;

&lt;h4 id=&quot;suitable-tools&quot;&gt;Suitable tools&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://snyk.io/&quot;&gt;Snyk&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;GitHub’s &lt;a href=&quot;https://help.github.com/en/github/managing-security-vulnerabilities/about-security-alerts-for-vulnerable-dependencies&quot;&gt;Security Alerts&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;the-container-layer&quot;&gt;The Container Layer&lt;/h2&gt;

&lt;p&gt;Dependency vulnerability is usually where developers stop paying attention. This is why we have put the next layer under the surface in our illustration. While container layer security is no less important, it’s often neglected.&lt;/p&gt;

&lt;p&gt;Too many developers view containers as a Panacea that addresses all their issues, including security. While containers can help with security through isolation, attention still needs to be paid to security. If not, you may actually end up in a &lt;em&gt;worse&lt;/em&gt; security state than without containers. For instance, most developers would consider it reckless to run a service as root on their host machine, but the same developer might run the same service as root inside a Docker container. By doing so, s/he opens up an attack vector that would not have existed otherwise.&lt;/p&gt;

&lt;p&gt;If you’re building your own images, you should follow security best practices for the image themselves. Aqua’s &lt;a href=&quot;https://blog.aquasec.com/docker-security-best-practices&quot;&gt;Docker Security Best Practices&lt;/a&gt; provides a good guideline for this. However, it doesn’t stop there. You need to build in vulnerability checking into your build pipeline. Tools like Aqua’s MicroScanner makes this a painless process, and it helps you catch vulnerable packages in your Docker images.&lt;/p&gt;

&lt;p&gt;Also, be careful when pulling Docker images from Docker Hub. In 2018 Docker &lt;a href=&quot;https://www.bleepingcomputer.com/news/security/17-backdoored-docker-images-removed-from-docker-hub/&quot;&gt;pulled 17 compromised Docker images&lt;/a&gt; from Docker Hub.&lt;/p&gt;

&lt;h4 id=&quot;suitable-tools-1&quot;&gt;Suitable tools&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;Aqua &lt;a href=&quot;https://blog.aquasec.com/microscanner-free-image-vulnerability-scanner-for-developers&quot;&gt;MicroScanner&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Sysdig &lt;a href=&quot;https://docs.sysdig.com/en/image-scanning.html&quot;&gt;Secure&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;CoreOS (Now Red Hat) &lt;a href=&quot;https://coreos.com/quay-enterprise/docs/latest/clair.html&quot;&gt;Clair&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;the-operating-system-layer&quot;&gt;The Operating System Layer&lt;/h2&gt;

&lt;p&gt;Last, but no less important, we have the perhaps most neglected layer in recent time: the operating system. As the focus of developers have moved higher up in the abstraction layers, many companies have forgotten to patch their servers. Yes, it might not be as sexy as the latest JavaScript framework, but &lt;strong&gt;if an attacker can gain root access on your VM, none of the other security layers considerations matter&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Remember &lt;a href=&quot;http://heartbleed.com/&quot;&gt;Heartbleed&lt;/a&gt;, &lt;a href=&quot;https://spectreattack.com/&quot;&gt;Spectre&lt;/a&gt; and &lt;a href=&quot;https://spectreattack.com/&quot;&gt;Meltdown&lt;/a&gt;? All of these affected the actual operating system. While containers could help mitigate some of these (to some degree), the actual operating system still needed to be patched. What we found surprising when talking to a number of companies was that they assumed these things were taken care of by their cloud provider (e.g. AWS).  Cloud providers usually offer some form of shared responsibility model that puts some onus on the user. AWS for instance &lt;a href=&quot;https://aws.amazon.com/compliance/shared-responsibility-model/&quot;&gt;describes&lt;/a&gt; security ‘of the cloud’ as their responsibility and security ‘in the cloud’ as the user responsibility.&lt;/p&gt;

&lt;p&gt;You can partially mitigate the problem by using ephemeral servers (i.e. the ‘Cattle’ in the &lt;a href=&quot;https://news.ycombinator.com/item?id=7311704&quot;&gt;Pet vs Cattle&lt;/a&gt; analogy), and have short-lived and frequently replaced VM. This however assume that all new VMs always use the latest (patched) upstream, and that provision of the instances using something like CloudFormation, Terraform, CloudInit or a configuration management software (e.g. Puppet, Chef, Ansible). If however, you have long-lived servers (i.e. ‘Pets’), you need to monitor the ongoing security posture of your servers. Yet, even if you are using short-lived servers, there is an attack window available.&lt;/p&gt;

&lt;p&gt;While operating security doesn’t fully fit into the CI/CD pipeline, it is important to continuously monitor the server state. This includes, but is not limited to:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Service configuration (e.g. OpenSSH)&lt;/li&gt;
  &lt;li&gt;Server hardening (i.e. the operating system itself)&lt;/li&gt;
  &lt;li&gt;Scan all installed packages against known vulnerabilities (i.e. CVE scan)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;To solve the pipeline problem, we at WoTT have solved with things like our &lt;a href=&quot;https://wott.io/blog/news/thoughts/2019/11/27/introducing-the-wott-github-integration&quot;&gt;GitHub integration&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;suitable-tools-2&quot;&gt;Suitable tools&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://wott.io&quot;&gt;WoTT&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Red Hat &lt;a href=&quot;https://www.redhat.com/en/technologies/management/satellite&quot;&gt;Satellite&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Aqua &lt;a href=&quot;https://blog.aquasec.com/secure-vm-cloud-native-security&quot;&gt;Security for Cloud VMs&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Ubuntu &lt;a href=&quot;https://landscape.canonical.com/&quot;&gt;Landscape&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;We hope that this article has provided a good overview of the different layers of security. As stated in the introduction, this is by no means a comprehensive security guide, but merely an overview. The takeaway is that you really should be using one tool in each category to improve your security posture, not just for the tip of the iceberg.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Update 1:&lt;/strong&gt; Reworked wording to improve readability.&lt;/p&gt;</content><author><name>Viktor Petersson</name></author><category term="thoughts" /><category term="open-source" /><summary type="html">Security is a complicated topic. There are countless attack vectors and threat models to take into consideration when designing a security strategy.</summary></entry><entry><title type="html">Introducing WoTT’s GitHub Integration</title><link href="https://wott.io/blog/news/thoughts/2019/11/27/introducing-the-wott-github-integration" rel="alternate" type="text/html" title="Introducing WoTT's GitHub Integration" /><published>2019-11-27T08:00:00+00:00</published><updated>2019-11-27T08:00:00+00:00</updated><id>https://wott.io/blog/news/thoughts/2019/11/27/introducing-the-wott-github-integration</id><content type="html" xml:base="https://wott.io/blog/news/thoughts/2019/11/27/introducing-the-wott-github-integration">&lt;p&gt;There’s no doubt that GitHub has become one of the most popular platforms for developer collaboration and communication. Increasingly, GitHub is also used for project management across developer and Dev(Sec)Ops teams. Because of this, it is increasingly where the security fixes are being tracked too.&lt;/p&gt;

&lt;p&gt;For instance, GitHub recently announced their &lt;a href=&quot;https://help.github.com/en/github/managing-security-vulnerabilities/about-security-alerts-for-vulnerable-dependencies&quot;&gt;Security Alerts&lt;/a&gt;, which helps you audit vulnerabilities in dependencies. There’s also &lt;a href=&quot;https://snyk.io/docs/github/&quot;&gt;Snyk’s GitHub integration&lt;/a&gt;, that does similar audits. Hence, GitHub is becoming the hub for tracking security issues.&lt;/p&gt;

&lt;p&gt;While GitHub’s Security Alerts (and Snyk) are great ways to secure your application dependencies, they only track part of the security posture. They neglect VM (or bare metal) security audits.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;This is why we are super excited to announce WoTT’s GitHub integration.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;With WoTT’s GitHub integration, the &lt;code class=&quot;highlighter-rouge&quot;&gt;wott-bot&lt;/code&gt; will automatically generate GitHub Issues based on our Recommended Actions. You can then easily assign ownership and schedule the work as part of your sprints.&lt;/p&gt;

&lt;p&gt;&lt;img alt=&quot;Example of an event in GitHub&quot; src=&quot;https://wott.io/assets/blog/wott-github-integration-45260a48ef9207f144d7890dd79832ffa570f89c32e186286dc1f1ae44dc6f8e.png&quot; integrity=&quot;sha256-RSYKSO+SB/FE14kN15gy/6Vw+Jwy4YYobcHxrkTcb44=&quot; crossorigin=&quot;anonymous&quot; srcset=&quot;https://wott.io/assets/077f30-e19f519abc9d4bf3a4632292dfef4c957051757b3e40d273ad74606f43dcd0bf.png 2x, https://wott.io/assets/9055a0-c0f0fd20c7361ac64edeca074fde90f1c4b8f2837ca7b8422bb47793766abf80.png 1x&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The integration is currently in beta and is available to all users.&lt;/p&gt;

&lt;p&gt;To get started, login to your &lt;a href=&quot;https://dash.wott.io&quot;&gt;WoTT Dashboard&lt;/a&gt; and navigate to your profile (upper right-hand corner) and select GitHub Integration.&lt;/p&gt;

&lt;p&gt;&lt;img alt=&quot;GitHub configuration in Dashboard&quot; src=&quot;https://wott.io/assets/blog/wott-profile-github-953febd93ee097d23151bac5e9f3802522ff495c1668e435b7ffd66ef3cb941f.png&quot; integrity=&quot;sha256-lT/r2T7gl9IxUbrF6fOAJSL/SVwWaOQ1t//WbvPLlB8=&quot; crossorigin=&quot;anonymous&quot; srcset=&quot;https://wott.io/assets/c2bd9c-37e6db87fd1b2b93340e2ad1a4644be84007924b0d0b8f6d116f6b13c5aab1fe.png 2x, https://wott.io/assets/f9ef83-73bdc6b12b104a5cf7c60bd04e0e69a624b8ae0407cb2a856f6b8ab2dad2d5a3.png 1x&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Click the ‘Authorize GitHub’ and follow the wizard to authorize the &lt;code class=&quot;highlighter-rouge&quot;&gt;wott-bot&lt;/code&gt; to create issues. The repository can be either public or private. Since these are security issues, it is recommended that you use a private repository. Also, please do note that WoTT &lt;strong&gt;cannot&lt;/strong&gt; read your code base. It can only create GitHub issues.&lt;/p&gt;

&lt;p&gt;Once you’re finished the wizard, you should be able to select the repository that you’ve granted access from the drop down list.&lt;/p&gt;

&lt;p&gt;&lt;img alt=&quot;GitHub configuration in Dashboard&quot; src=&quot;https://wott.io/assets/blog/wott-github-finished-d3d23b862b2a5f88dca131ff81e538f6c1656370a039adefe0b5e496fd69d3ba.png&quot; integrity=&quot;sha256-09I7hisqX4jcoTH/geU49sFlY3CgOa3v4LXklv1p07o=&quot; crossorigin=&quot;anonymous&quot; srcset=&quot;https://wott.io/assets/153264-9613b3ac5260242fec6bb68c8c536dc3f454a73efd5ac7522a8e017286712995.png 2x, https://wott.io/assets/88d86d-6c7839b7495f0b96fe3ed8894d2849e2826733497542016e8be13d387a03f09f.png 1x&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Lastly, you now need to select “Install App” for the bot to be able to create Issues. Once that’s done, you should start seeing GitHub Issues created as they are discovered by WoTT (and updated when something changes).&lt;/p&gt;

&lt;p&gt;If you got any questions or issues, please drop us a line at hey@wott.io or reach out to us at &lt;a href=&quot;https://twitter.com/wottsecurity&quot;&gt;@WoTTSecurity&lt;/a&gt; on Twitter.&lt;/p&gt;</content><author><name>Viktor Petersson</name></author><category term="[&quot;news&quot;, &quot;thoughts&quot;]" /><category term="announcement" /><category term="github" /><category term="devsecops" /><category term="devops" /><summary type="html">There’s no doubt that GitHub has become one of the most popular platforms for developer collaboration and communication. Increasingly, GitHub is also used for project management across developer and Dev(Sec)Ops teams. Because of this, it is increasingly where the security fixes are being tracked too.</summary></entry><entry><title type="html">How to Securely Configure MongoDB</title><link href="https://wott.io/blog/tutorials/2019/11/24/mongodb" rel="alternate" type="text/html" title="How to Securely Configure MongoDB" /><published>2019-11-24T09:00:00+00:00</published><updated>2019-11-24T09:00:00+00:00</updated><id>https://wott.io/blog/tutorials/2019/11/24/mongodb</id><content type="html" xml:base="https://wott.io/blog/tutorials/2019/11/24/mongodb">&lt;h1 id=&quot;how-to-securely-configure-mongodb&quot;&gt;How to Securely Configure MongoDB&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;Required Skill Level&lt;/strong&gt;: Intermediate&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Reading Time&lt;/strong&gt;: 15-20 Minutes&lt;/p&gt;

&lt;h2 id=&quot;introduction&quot;&gt;Introduction&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://www.mongodb.com/what-is-mongodb&quot;&gt;MongoDB&lt;/a&gt; is a NoSQL, document database that is widely used by companies and individuals. Its popularity and support makes it a contender for one of the best options for database needs. Unfortunately, its popularity makes it a target for experienced and mediocre attackers alike. This article will go over the most common security risks to MongoDB and how to mitigate them. Hopefully by the end of this article, your MongoDB deployment will be impervious to most attacks.&lt;/p&gt;

&lt;p&gt;We also assume that you have quite a bit of knowledge when using MongoDB as you have probably created a database and have come here looking to secure it. If you have little knowledge in MongoDB, you can continue to read this post and learn the theory behind securing your database, however we strongly recommend taking a course and learning the syntax and how MongoDB works to gain a better understanding. With that being said, let’s get into it!&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Side note: WoTT is a service that checks and audits your node network including MongoDB deployments.&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;common-risks-and-how-to-mitigate-them&quot;&gt;Common Risks and How to Mitigate Them&lt;/h2&gt;

&lt;h3 id=&quot;1-authentication-and-authorization&quot;&gt;1. Authentication and Authorization&lt;/h3&gt;

&lt;p&gt;By default, when MongoDB is installed, it does without needing password credentials when accessing the database. It is highly recommended that you add users with login credentials, and an admin user with elevated privelages.&lt;/p&gt;

&lt;p&gt;Before doing so, you need to enable Access Control. By enabling access control, you enforce user authentication, requiring users to identify themselves before accessing your MongoDB deployment. Assuming you have the mongodb server running, connect to the server using a terminal as the client by executing the command:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mongo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;NB: You probably need to add a &lt;code class=&quot;highlighter-rouge&quot;&gt;port--&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;host--&lt;/code&gt; after the mongo command depending on how you set up your deployment&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Now that you are in the database as a client, you must switch to the admin database to add a new user. Simply execute the following command:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ use admin
switched to db admin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now we need to create an admin user, to do so, run the following commands:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;db.createUser(
   {
       user: &quot;admin&quot;,
       pwd: &quot;placeholder&quot;,
       roles [{role: &quot;userAdminAnyDatabase&quot;, db: &quot;admin&quot;}, &quot;readWriteANyDatabase&quot;]
   }
)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Make sure to replace placeholder with a strong password, you could alternatively use the command:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;passwordPrompt()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This creates an admin user that has access to every aspect of any database in your deployment, so be cautious as to who you share that information with. Since MongoDB doesn’t enable authorization/authentication by default, even with the creation of an admin user, users will still have access to all aspects of every database in your deployment without the need to authenticate.&lt;/p&gt;

&lt;p&gt;To enable authorization, first disconnect from the mongoshell and stop the mongo server (usually using ^C in the terminal will do the trick). Then access the MongoD configuration file using your favourite editor. We will use $EDITOR for the purpose of this tutorial.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo $EDITOR mongod.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It might be worth mentioning that your configuration file will be by default in the &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;/etc/&lt;/code&gt; directory. If you specified the location yourself please refer to that directory when running the command.&lt;/p&gt;

&lt;p&gt;Once in the file, navigate to the section that reads&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;security:
   authorization: &quot;disabled&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Change it to &lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;endabled&quot;&lt;/code&gt;. Save the file and start up your mongodb server. Go back to your terminal and access the mongo client, this time adding the following:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mongo --authenticationDatabase -u &quot;admin&quot; -p &quot;placeholder&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can also authenticate after accessing the mongo client:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mongo
&amp;gt; db.auth(&quot;admin&quot;, &quot;placeholder&quot;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now that you have connected to the deployment as an admin and enabled authorization, you can now create users for whichever database they need to access. For the purposes of this article, we will assume you have a database named &lt;code class=&quot;highlighter-rouge&quot;&gt;testDB&lt;/code&gt; and would like to add the user &lt;code class=&quot;highlighter-rouge&quot;&gt;tester&lt;/code&gt;. In the client just use the following syntax:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; use testDB
 
&amp;gt; db.createUser{
   user: &quot;tester&quot;
   pwd: &quot;default&quot;
   roles: [ { role: &quot;read&quot;, db: &quot;testDB&quot; } ]
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This leads us to our next point.&lt;/p&gt;

&lt;h3 id=&quot;2-authorise-users-by-role&quot;&gt;2. Authorise Users By Role&lt;/h3&gt;

&lt;p&gt;It’s not enough to turn on authentication and create an admin user. You need to create users and give them roles that are specific to their user requirements. There are 2 ways you can do this, you can either utilize &lt;a href=&quot;https://docs.mongodb.com/manual/reference/built-in-roles/&quot;&gt;MongoDB’s built-in roles&lt;/a&gt;, or you can create &lt;a href=&quot;https://docs.mongodb.com/manual/core/security-user-defined-roles/&quot;&gt;user-defined roles&lt;/a&gt; if you need users to do something specific.&lt;/p&gt;

&lt;p&gt;Don’t worry if you created a user with the wrong role, you can always update the role of the user using the method &lt;code class=&quot;highlighter-rouge&quot;&gt;db.updateUser()&lt;/code&gt;. The following is the syntax for the method (bear in mind it can also be used to update other fields for the user and not just the role so be careful):&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;db.updateUser(
  &quot;&amp;lt;username&amp;gt;&quot;,
  {
    customData : { &amp;lt;any information&amp;gt; },
    roles : [
              { role: &quot;&amp;lt;role&amp;gt;&quot;, db: &quot;&amp;lt;database&amp;gt;&quot; } | &quot;&amp;lt;role&amp;gt;&quot;,
              ...
            ],
    pwd: &quot;&amp;lt;cleartext password&amp;gt;&quot;
   },
   writeConcern: { &amp;lt;write concern&amp;gt; }
)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img alt=&quot;Description Table&quot; src=&quot;https://wott.io/assets/blog/mongodb-table-45124f8e5a65f7cbd80cdf48ec859fa5d462ee25f297819cb6b25e48de2c2a21.png&quot; integrity=&quot;sha256-RRJPjlpl98vYDN9I7IWfpdRi7iXyl4GctrJeSN4sKiE=&quot; crossorigin=&quot;anonymous&quot; srcset=&quot;https://wott.io/assets/92987f-045320a611ba80028efea632601d4262ae67baf97a8aae71e6de941443a68de9.png 2x, https://wott.io/assets/887014-6187076aaa56991839794b7154e882375fba72ab69e898b63de86fd6ec4b65d7.png 1x&quot; /&gt;&lt;/p&gt;

&lt;p&gt;An example would be:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; db.updateUser(&quot;tester&quot;,
{
   roles: [
       {role: &quot;readWrite&quot;, db: &quot;testDB}
   ]
})
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;3-encrypt-communication&quot;&gt;3. Encrypt Communication&lt;/h3&gt;

&lt;p&gt;By default, information sent between the mongo client and server is sent in plaintext. The implications of using such a basic method of communication can be devastating when handling sensitive data, especially if an attacker is setting up camp in your lines of communication. We recommend configuring your MongoDB deployment to support TLS/SSL. The Process to enabling TLS/SSL communication is a long one and has a lot to cover, so we recommend going through &lt;a href=&quot;https://docs.mongodb.com/manual/tutorial/configure-ssl/&quot;&gt;this page&lt;/a&gt; in the MongoDB documentaion. It does assume prior knowledge of TLS/SSL and public key infrastructure, so make sure you are brushed up on that before going through it.&lt;/p&gt;

&lt;h3 id=&quot;6-encrypt-data&quot;&gt;6. Encrypt Data&lt;/h3&gt;

&lt;p&gt;MongoDB Enterprise 3.2 comes with a WiredTiger storage engine. This engine also comes with it’s own &lt;a href=&quot;https://docs.mongodb.com/manual/core/security-encryption-at-rest/&quot;&gt;Encryption At Rest&lt;/a&gt;, which can be used to encrypt data in the storage layer.&lt;/p&gt;

&lt;p&gt;If you decide not to go with the WiredTiger’s encryption at rest, please make sure any MongoDB data is encrypted on every host using file-system, device or physical encryption. Be sure if you use any key-based encryption to store the key outside of the MongoDB deployment and somewhere that shouldn’t be easy to find.&lt;/p&gt;

&lt;h3 id=&quot;5-always-backup-your-databases&quot;&gt;5. Always Backup Your Databases&lt;/h3&gt;

&lt;p&gt;A common attack used by attackers looking to earn an easy paycheck is ransomware. Ransomware is a type of malware that either encrypts or whipes your data and threatens to never give you access to the data unless you pay the attacker through bitcoins or some other currency that is difficult to trace. To defend yourself against these attacks, it is best to ensure you keep a regular backup of your data, in the event that this attack occurs, you can simply restore your data from the most recent backup. It sounds simple enough, but it can definitely save you a lot of money as most of these ransomware encryptions use advanced cryptographic algorithms that would either cost too much to break or be almost impossible to break before then end of the Earth. Oh, and don’t forget to make sure you’re backup is encrypted, you don’t want just anybody stumbling upon it and having access to all that data.&lt;/p&gt;

&lt;h3 id=&quot;6-use-a-non-standard-port&quot;&gt;6. Use a Non-standard Port&lt;/h3&gt;

&lt;p&gt;This point is security by ambiguity, it isn’t an effective way to stop attackers, but it can certainly slow them down, as most attackers begin attacks by scanning for the standard MongoDB ports and hoping to catch someone with their shields down.&lt;/p&gt;

&lt;p&gt;The standard MongoDB ports are:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;2700X&lt;/li&gt;
  &lt;li&gt;27017&lt;/li&gt;
  &lt;li&gt;27019&lt;/li&gt;
  &lt;li&gt;27018&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;To change the default port, navigate to the &lt;strong&gt;mongod.conf&lt;/strong&gt; file and locate the lines:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;net:
   port: 27017
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and change the port number to one that is available. When this is done, restart the server.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;MongoDB deployments have been at risk of attacks for quite some time now, the most common of them being ransomware attacks. By following this guide, we hoped to cover the more blatant flaws that are overlooked by MongoDB users and secure them. Make sure to stay vigilant when working with other people and know that no system is 100% secure.&lt;/p&gt;

&lt;p&gt;But why have to worry about going through all of these points? &lt;a href=&quot;https://wott.io/&quot;&gt;WoTT&lt;/a&gt; is a developer tool to automatically run CVE scans, audit service configurations, manage your firewalls, simplify mTLS, and more. By using WoTT, we can run some checks on your MongoDB deployment and notify you of any fixes we recommend to keep your deployment safe and secure.&lt;/p&gt;</content><author><name>Mahmoud Fahmy</name></author><category term="tutorials" /><category term="tutorials" /><category term="open-source" /><summary type="html">How to Securely Configure MongoDB Required Skill Level: Intermediate Reading Time: 15-20 Minutes Introduction MongoDB is a NoSQL, document database that is widely used by companies and individuals. Its popularity and support makes it a contender for one of the best options for database needs. Unfortunately, its popularity makes it a target for experienced and mediocre attackers alike. This article will go over the most common security risks to MongoDB and how to mitigate them. Hopefully by the end of this article, your MongoDB deployment will be impervious to most attacks. We also assume that you have quite a bit of knowledge when using MongoDB as you have probably created a database and have come here looking to secure it. If you have little knowledge in MongoDB, you can continue to read this post and learn the theory behind securing your database, however we strongly recommend taking a course and learning the syntax and how MongoDB works to gain a better understanding. With that being said, let’s get into it! Side note: WoTT is a service that checks and audits your node network including MongoDB deployments. Common Risks and How to Mitigate Them 1. Authentication and Authorization By default, when MongoDB is installed, it does without needing password credentials when accessing the database. It is highly recommended that you add users with login credentials, and an admin user with elevated privelages. Before doing so, you need to enable Access Control. By enabling access control, you enforce user authentication, requiring users to identify themselves before accessing your MongoDB deployment. Assuming you have the mongodb server running, connect to the server using a terminal as the client by executing the command: $ mongo NB: You probably need to add a port-- and host-- after the mongo command depending on how you set up your deployment. Now that you are in the database as a client, you must switch to the admin database to add a new user. Simply execute the following command: $ use admin switched to db admin Now we need to create an admin user, to do so, run the following commands: db.createUser( { user: &quot;admin&quot;, pwd: &quot;placeholder&quot;, roles [{role: &quot;userAdminAnyDatabase&quot;, db: &quot;admin&quot;}, &quot;readWriteANyDatabase&quot;] } ) Make sure to replace placeholder with a strong password, you could alternatively use the command: passwordPrompt() This creates an admin user that has access to every aspect of any database in your deployment, so be cautious as to who you share that information with. Since MongoDB doesn’t enable authorization/authentication by default, even with the creation of an admin user, users will still have access to all aspects of every database in your deployment without the need to authenticate. To enable authorization, first disconnect from the mongoshell and stop the mongo server (usually using ^C in the terminal will do the trick). Then access the MongoD configuration file using your favourite editor. We will use $EDITOR for the purpose of this tutorial. $ sudo $EDITOR mongod.conf It might be worth mentioning that your configuration file will be by default in the &amp;lt;/etc/ directory. If you specified the location yourself please refer to that directory when running the command. Once in the file, navigate to the section that reads security: authorization: &quot;disabled&quot; Change it to &quot;endabled&quot;. Save the file and start up your mongodb server. Go back to your terminal and access the mongo client, this time adding the following: $ mongo --authenticationDatabase -u &quot;admin&quot; -p &quot;placeholder&quot; You can also authenticate after accessing the mongo client: $ mongo &amp;gt; db.auth(&quot;admin&quot;, &quot;placeholder&quot;) Now that you have connected to the deployment as an admin and enabled authorization, you can now create users for whichever database they need to access. For the purposes of this article, we will assume you have a database named testDB and would like to add the user tester. In the client just use the following syntax: &amp;gt; use testDB &amp;gt; db.createUser{ user: &quot;tester&quot; pwd: &quot;default&quot; roles: [ { role: &quot;read&quot;, db: &quot;testDB&quot; } ] } This leads us to our next point. 2. Authorise Users By Role It’s not enough to turn on authentication and create an admin user. You need to create users and give them roles that are specific to their user requirements. There are 2 ways you can do this, you can either utilize MongoDB’s built-in roles, or you can create user-defined roles if you need users to do something specific. Don’t worry if you created a user with the wrong role, you can always update the role of the user using the method db.updateUser(). The following is the syntax for the method (bear in mind it can also be used to update other fields for the user and not just the role so be careful): db.updateUser( &quot;&amp;lt;username&amp;gt;&quot;, { customData : { &amp;lt;any information&amp;gt; }, roles : [ { role: &quot;&amp;lt;role&amp;gt;&quot;, db: &quot;&amp;lt;database&amp;gt;&quot; } | &quot;&amp;lt;role&amp;gt;&quot;, ... ], pwd: &quot;&amp;lt;cleartext password&amp;gt;&quot; }, writeConcern: { &amp;lt;write concern&amp;gt; } ) An example would be: &amp;gt; db.updateUser(&quot;tester&quot;, { roles: [ {role: &quot;readWrite&quot;, db: &quot;testDB} ] }) 3. Encrypt Communication By default, information sent between the mongo client and server is sent in plaintext. The implications of using such a basic method of communication can be devastating when handling sensitive data, especially if an attacker is setting up camp in your lines of communication. We recommend configuring your MongoDB deployment to support TLS/SSL. The Process to enabling TLS/SSL communication is a long one and has a lot to cover, so we recommend going through this page in the MongoDB documentaion. It does assume prior knowledge of TLS/SSL and public key infrastructure, so make sure you are brushed up on that before going through it.</summary></entry><entry><title type="html">New Space and the Future (as well as the past) of IoT</title><link href="https://wott.io/blog/news/thoughts/2019/11/20/space-iot" rel="alternate" type="text/html" title="New Space and the Future (as well as the past) of IoT" /><published>2019-11-20T10:00:00+00:00</published><updated>2019-11-20T10:00:00+00:00</updated><id>https://wott.io/blog/news/thoughts/2019/11/20/space-iot</id><content type="html" xml:base="https://wott.io/blog/news/thoughts/2019/11/20/space-iot">&lt;h2 id=&quot;introduction&quot;&gt;Introduction&lt;/h2&gt;

&lt;p&gt;In a world full of buzzwords, you’ve probably already come across the term ‘New Space.’ But, what exactly is it and why should you as developers care about it? WoTT is a security company aimed at Linux distros to secure server to receiver connections in an easy, flexible way. So where do we fit?
In simple terms, because developers are needed in all aspects of commerce; but more so, the opportunity to capitalise early on a sector that is estimated to be worth &lt;a href=&quot;https://www.nato-pa.int/download-file?filename=sites/default/files/2018-12/2018%20-%20THE%20FUTURE%20OF%20SPACE%20INDUSTRY%20-%20BOCKEL%20REPORT%20-%20173%20ESC%2018%20E%20fin.pdf&quot;&gt;1.1 trillion dollars&lt;/a&gt; by 2040 (and sitting on a comfortable 360 billion now). So much of the focus in the space sector up til now has been setting up infrastructure.&lt;/p&gt;

&lt;p&gt;And it’s not as if the space sector is an ‘alien’ endeavour for developers. In fact, in many ways space and IoT have always gone hand in hand.&lt;/p&gt;

&lt;h2 id=&quot;the-past&quot;&gt;The Past&lt;/h2&gt;

&lt;p&gt;Manned spaceflight accounts for a very small portion of the space sector as a whole and has typically been motivated by military pursuit. The most ‘popular’ space endeavour, the ISS, has only been manned by crew since 2000 (assembly beginning in 1998).&lt;/p&gt;

&lt;p&gt;&lt;img alt=&quot;Global Space Sector&quot; src=&quot;https://wott.io/assets/blog/space-economy-d427c5e1c42ef919ce60e875aaae6a2cfa92e058ccaa625cf3b9e021c99bf526.png&quot; integrity=&quot;sha256-1CfF4cQu+RnOYOh1qq5qLPqS4FjMqmJc87ngIcmb9SY=&quot; crossorigin=&quot;anonymous&quot; srcset=&quot;https://wott.io/assets/765996-27e952ac23ea7b04327f6d758ad7296790913fa123487d269f510cd9964710d4.png 2x, https://wott.io/assets/27fc55-8209a1677d0f2890766a14c4986a74aeef8ed65e19c12267db4ef38efe78d013.png 1x&quot; /&gt;
&lt;em&gt;in this image, you can consider manned spaceflight as a part of ‘launch’, graph found &lt;a href=&quot;https://www.sia.org/wp-content/uploads/2019/05/2019-SSIR-2-Page-20190507.pdf&quot;&gt;here&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Generally, most experiments related to space are done remotely. Many of the experiments present on the ISS contain data that needs to be broadcasted to Earth.
In short, many of these experiments; which also need to be relatively low power, can be considered analagous to IoT problems. The parallels have always been there. As the use of internet as a medium for transferring data in the space domain grows, so too will the need for security. Companies like WoTT can help broach that gap.&lt;/p&gt;

&lt;h2 id=&quot;the-now&quot;&gt;The Now&lt;/h2&gt;

&lt;p&gt;We’ve since moved on from the days of the Space Race and the military era to where we are currently: a more exciting commerical branch of the sector, New Space. It’s here where prospective developers can really shine with many commercial start ups looking to outsource several components (such as security).&lt;/p&gt;

&lt;p&gt;We now have the opportunity to interface with projects in space; and not all of them are scientific. There are currently &lt;a href=&quot;https://www.esa.int/Science_Exploration/Human_and_Robotic_Exploration/Research/ICE_Cubes_space_research_service_open_for_business&quot;&gt;3 projects&lt;/a&gt; onboard the ISS done in collaboration with ESA and the International Space University (ISU); one of which is an art project (a potential area of commerical growth). Users on Earth can interface and interact with this in near real-time. These projects are set up by the onboard astronauts and essentially left to their own devices. Their data gets broadcast to Earth via the internet much like an IoT device. It’s natural to assume more projects like the ICE cubes will become more prominent in the future. As this sector increases, so does its vulnerability; and as we know IoT on Earth is already a poorly secured domain. Remember the &lt;a href=&quot;https://www.pentestpartners.com/security-blog/hacking-ruining-the-samsung-smart-fridge/&quot;&gt;Samsung fridges&lt;/a&gt;?&lt;/p&gt;

&lt;p&gt;We often take cybersecurity for granted in the developer world, but it’s often not even considered by the everyday person; even in scientfic roles. How many of these experiments for example contain &lt;a href=&quot;https://wott.ioblog/tutorials/2019/11/04/cve&quot;&gt;common vulnerabilities&lt;/a&gt; (which we here at WoTT can help you detect) in their hardware? The demand for workers with a technical background in the space sector is increasing along with these risks.&lt;/p&gt;

&lt;p&gt;Additionally, IoT itself on Earth is expanding at an exponential rate and we simply don’t have the infrastructure to support it. There are growing talks in implementing LEO (Low Earth Orbit) satellite constellations as a means of supplying low-latency internet everywhere. This is particularly relevant with the increase of prioritisation of smart cities globally. Satellites can reach corners of the globe that conventional internet supplying methods just can’t. &lt;a href=&quot;https://cordis.europa.eu/project/rcn/207924/brief/en&quot;&gt;IoTEE&lt;/a&gt; is an EU funded project concerned with providing such services to IoT devices specifically, and it is going to be tested on the ISS.&lt;/p&gt;

&lt;h2 id=&quot;the-future&quot;&gt;The Future&lt;/h2&gt;

&lt;p&gt;It may still seem as though IoT is a reach for space and that thinking about investing your energy as a developer in the space sector would be detrimental. But consider that &lt;a href=&quot;https://internetofbusiness.com/nasa-iot-space-wireless/&quot;&gt;NASA itself&lt;/a&gt; is investing in wireless technologies in space through in collaboration with US M2M companies. ESA has invested nearly &lt;em&gt;half&lt;/em&gt; of its 2019 budget on technological and satellite based development.&lt;/p&gt;

&lt;p&gt;&lt;img alt=&quot;ESA's budget for 2019&quot; src=&quot;https://wott.io/assets/blog/esa-budget-2019-e280b5d2857f019143a1ead94557dbdd51e7b8d6b2dedf690cdeafb04e29eb57.jpg&quot; integrity=&quot;sha256-4oC10oV/AZFDoerZRVfb3VHnuNay3t9pDN6vsE4p61c=&quot; crossorigin=&quot;anonymous&quot; srcset=&quot;https://wott.io/assets/44deb9-4c3b2da03f745d013d64a0db6aeed4db836bdae6d4ab09112e3ae1eeead6496d.jpg 2x, https://wott.io/assets/edfc95-dd3ca277b4f023e8fcf535600fb7c34e6c5efed07386debaec1410c276e81363.jpg 1x&quot; /&gt;
&lt;em&gt;ESA’s budget split up by domain. Earth Observation is a domain that is strongly influenced by the technical domain with AI specialists dominating the field. Taken from &lt;a href=&quot;http://www.esa.int/About_Us/Corporate_news/Funding&quot;&gt;ESA&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;In September of this year, SemTech announced a non-GPS based &lt;a href=&quot;https://www.semtech.com/company/press/semtech-and-alibaba-cloud-prevent-asset-loss-and-theft-with-lora-based-tracker&quot;&gt;location tracking service&lt;/a&gt; enabled by IoT, a huge step forward in integrating modern IoT with the satellite industry. Alibaba Cloud itself is the third largest cloud service provider globally, and the largest in China.&lt;/p&gt;

&lt;p&gt;So not only are we in a position where IoT is relevant, we are in an era where it is becoming an &lt;em&gt;increasing&lt;/em&gt; sector of demand both on Earth &lt;em&gt;and&lt;/em&gt; in space. AWS are currently working in collaboration with Iridium (a company specialising in worldwide data communication via its 66 satellite constellation) to develop &lt;a href=&quot;http://investor.iridium.com/2018-09-27-Iridium-to-Simplify-Adoption-of-IoT-Solutions-Beyond-Cellular-Coverage-with-Amazon-Web-Services&quot;&gt;Iridium CloudConnect&lt;/a&gt;. When it launches (planned for this year), it will be the first of its kind, offering truly global coverage for IoT applications and expanding AWS services across the 80% of the world it cannot currently reach.&lt;/p&gt;

&lt;p&gt;IoT started at a ‘mere’ 15.4 billion devices in 2015 and is &lt;a href=&quot;https://news.ihsmarkit.com/press-release/technology/tech-companies-creating-strategic-platforms-support-internet-things-ihs-say&quot;&gt;expected to grow&lt;/a&gt; to 75.4 billion by 2025.&lt;/p&gt;

&lt;p&gt;Space IoT is still somewhat a blue ocean market, so the time to capitalise is now. Even since the annoucnement of Iridium CloudConnect, &lt;a href=&quot;https://www.networkworld.com/article/3343059/iot-roundup-outer-space-the-building-is-getting-smart-and-trucking.html&quot;&gt;similar startups&lt;/a&gt; have already formed. As this sector expands, so does its risks; and it’s prudent for the savvy developer to forsee problems before they happen. The ease of access to IoT will only increase, and security should be on the forefront of every developer’s mind entering this industry. So far we’ve seen several proposed networks for services to connect to and not much in the way of security. A lightweight agent such as WoTT’s (which is ideal for small hardware such as Pis) is an ideal place to start closing the gap.&lt;/p&gt;</content><author><name>Fiona McAllister</name></author><category term="[&quot;news&quot;, &quot;thoughts&quot;]" /><category term="open-source" /><summary type="html">Introduction</summary></entry><entry><title type="html">How to Do a CVE Scan of Your Linux System</title><link href="https://wott.io/blog/tutorials/2019/11/04/cve" rel="alternate" type="text/html" title="How to Do a CVE Scan of Your Linux System" /><published>2019-11-04T14:00:00+00:00</published><updated>2019-11-04T14:00:00+00:00</updated><id>https://wott.io/blog/tutorials/2019/11/04/cve</id><content type="html" xml:base="https://wott.io/blog/tutorials/2019/11/04/cve">&lt;h2 id=&quot;introduction&quot;&gt;Introduction&lt;/h2&gt;

&lt;p&gt;Common Vulnerabilities and Exposures (&lt;a href=&quot;https://cve.mitre.org/cve/&quot;&gt;CVE&lt;/a&gt;) is a list of publicly known cybersecurity vulnerabilities. Each vulnerability is given a unique CVE number by which it can be identified and referenced. The list can be easily accessed for free online, but wouldn’t it be nice to be automatically notified when you are affected by a newly reported vulnerability without having to check the list every day?&lt;/p&gt;

&lt;p&gt;WoTT can help you do this by scanning your system packages and checking them against the CVE list.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Required Skill Level&lt;/strong&gt;: None/Beginner&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Time to Complete&lt;/strong&gt;: 15 - 45 minutes (depending on whether you are already set up with WoTT)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Prerequisite&lt;/strong&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Have the WoTT agent installed (or &lt;a href=&quot;#wott&quot;&gt;install it&lt;/a&gt;)&lt;/li&gt;
  &lt;li&gt;Have a profile with WoTT (instructions included in set up)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In a few simple steps, you can determine your vulnerability score. Follow the instructions below.&lt;/p&gt;

&lt;h2 id=&quot;-1-install-the-wott-agent&quot;&gt;&lt;a name=&quot;wott&quot;&gt;&lt;/a&gt; 1. Install the WoTT agent&lt;/h2&gt;

&lt;p&gt;You’ll need to install our lightweight agent if you haven’t done so already. See our &lt;a href=&quot;https://wott.io/documentation/getting-started&quot;&gt;getting started&lt;/a&gt; page and follow the instructions.&lt;/p&gt;

&lt;h2 id=&quot;2-review-cve-scan-results&quot;&gt;2. Review CVE scan results&lt;/h2&gt;

&lt;p&gt;If you’re already set up with WoTT, you’ll need to navigate and log in to the &lt;a href=&quot;https://dash.wott.io&quot;&gt;WoTT Dash&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Now click on the ‘Device Name’ to see device details. It should look something like this:&lt;/p&gt;

&lt;p&gt;&lt;img alt=&quot;sample dashboard&quot; src=&quot;https://wott.io/assets/blog/al-dash-977c4403c36d5606d3f46c66890c09343962906def456281e30ac838810761ed.png&quot; integrity=&quot;sha256-l3xEA8NtVgbT9GxmiQwJNDlikG3vRWKB4wrIOIEHYe0=&quot; crossorigin=&quot;anonymous&quot; srcset=&quot;https://wott.io/assets/546b19-88e0e08a7d85b7493d9d58a95aad1c8a6aea8cc5102a95643c5864b79383a4e9.png 2x, https://wott.io/assets/cb07c6-f520956811848d3021d76de796418efd95d386f92425228a84f9f957df644141.png 1x&quot; /&gt;&lt;/p&gt;

&lt;p&gt;To see your vulnerabilities, navigate to the security tab at the top of the page where a scan of your device will be performed.
Here you will see a list of all CVEs that affect your endpoint.&lt;/p&gt;

&lt;p&gt;&lt;img alt=&quot;sample CVE &quot; src=&quot;https://wott.io/assets/blog/al-device-b5c9d079c5c54a98b1184384be1d3e33638df525edc15a019717fd93bdf939f8.png&quot; integrity=&quot;sha256-tcnQecXFSpixGEOEvh0+M2ON9SXtwVoBlxf9k735Ofg=&quot; crossorigin=&quot;anonymous&quot; srcset=&quot;https://wott.io/assets/b3ea79-d997501378234a700640b6fe5cc3e0a166edda6907b781ecb5e0d77bf6352df1.png 2x, https://wott.io/assets/e84a38-1abe043a1078c94747c7aa696f22f860d02da400c01c2c95f9d6360335a699ad.png 1x&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In this particular example, you can see that the scan has detected default login credentials (such as those on a raspberry pi). The results will of course vary depending on your device, but this should give you a better understanding on the common vulnerabilities present on your device that can be easily exploited.&lt;/p&gt;

&lt;h2 id=&quot;additional-information-and-closing-notes&quot;&gt;Additional Information and Closing Notes&lt;/h2&gt;

&lt;p&gt;WoTT also provides a more holistic security audit and set of developers tools to capture and correct other common failure points such as &lt;a href=&quot;https://wott.io/documentation/faq#firewall-policy&quot;&gt;firewall policy&lt;/a&gt;, OpenSSH audits and the presence of app hardening tools like &lt;a href=&quot;https://wott.io/documentation/faq#apparmor&quot;&gt;AppArmor&lt;/a&gt; and &lt;a href=&quot;https://wott.io/documentation/faq#selinux&quot;&gt;SELinux&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;To understand each check in the security audit visit the WoTT &lt;a href=&quot;https://wott.io/documentation/faq&quot;&gt;FAQ&lt;/a&gt;.&lt;/p&gt;</content><author><name>Al Esmail</name></author><category term="tutorials" /><category term="open-source" /><summary type="html">Introduction</summary></entry><entry><title type="html">How to Audit OpenSSH Configuration and Secure It</title><link href="https://wott.io/blog/tutorials/2019/10/25/audit-openssh-security" rel="alternate" type="text/html" title="How to Audit OpenSSH Configuration and Secure It" /><published>2019-10-25T17:00:00+00:00</published><updated>2019-10-25T17:00:00+00:00</updated><id>https://wott.io/blog/tutorials/2019/10/25/audit-openssh-security</id><content type="html" xml:base="https://wott.io/blog/tutorials/2019/10/25/audit-openssh-security">&lt;h2 id=&quot;introduction&quot;&gt;Introduction&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;Required Skill Level&lt;/strong&gt;: Beginner to Medium&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Reading Time&lt;/strong&gt;: 15-20 Minutes&lt;/p&gt;

&lt;p&gt;In this post, we will review the fundamentals of a secure OpenSSH server. As you probably know the SSH (Secure Shell) is a method to remote login to a server. SSH is usually secure however if used with the default settings, can be vulnerable to attacks from unwanted parties.&lt;/p&gt;

&lt;p&gt;We will look at the basics of auditing and securing your OpenSSH configuration file, to make sure that only trusted users can remote login to your server, and are privy to the information they are permitted to.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Requirements:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;A Linux distribution (this guide should be good for most distro’s)&lt;/li&gt;
  &lt;li&gt;The config file (usually located at /etc/ssh/sshd_config)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;you can open this file from the terminal using the command:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo $EDITOR /etc/ssh/sshd_config
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;We also want to quickly mention that our service &lt;a href=&quot;https://wott.io/&quot;&gt;WoTT&lt;/a&gt; audits the security of your linux machine/s including your OpenSSH configuration. It is free for up to 5 nodes and contains many guides and documentation to make sure setting up is simple and painless whilst easing your mind on the strenuous work that is securing your system.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Here are a few key features to check if your OpenSSH server is secure:&lt;/p&gt;

&lt;h2 id=&quot;1-use-strong-passwords&quot;&gt;1. Use Strong Passwords&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;https://imgs.xkcd.com/comics/password_strength.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This might seem like an obvious one, but a lot of systems are vulnerable to brute force attacks or simple guesswork due to having easy to guess passwords or generic passwords. By ensuring that your password/s is complex and long, it makes it a lot more difficult and more time consuming to brute force (can result in you noticing the attack) if the password has capital letters, special characters and numbers. Also make sure to use a non-conspicuous word or phrase as your base. Something like idontlikemeltedicecream rather than your first car or the name of your pet.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Side note: we strongly recommend you don’t use passwords to begin with (see point 5). But we understand that some people would like to keep using passwords so we’ll keep this up here.&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;2-change-the-default-ssh-port&quot;&gt;2. Change the Default SSH Port&lt;/h2&gt;

&lt;p&gt;By default, any SSH port is 22. This makes it so that anyone connecting to your SSH server can find it simply by connecting to the default port. Changing the port makes it more difficult to find and slows down the attacker’s process significantly. To change it, navigate to the config file as shown above and open it in your terminal (you can also edit it through a text editor although this guide will show you how to do so in a terminal).&lt;/p&gt;

&lt;p&gt;Once you have the config file open, locate the line that says Port 22, and change the number to a port that is not in use on your server yet.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;You can check to see which ports are not in use by running the following command on another terminal:&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ netstat -ntap
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;This command will show you a long list of ports and connections that are open.&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;3-use-protocol-2&quot;&gt;3. Use Protocol 2&lt;/h2&gt;

&lt;p&gt;Again this is a simple one but can be overlooked. There are two protocol versions SSH uses, by default it should be set to 2, but be sure to check that version 2 is being used. For more information on why protocol 2 should be used instead of 1, &lt;a href=&quot;http://www.snailbook.com/faq/ssh-1-vs-2.auto.html&quot;&gt;please refer to this webpage&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;4-disable-root-login&quot;&gt;4. Disable Root Login&lt;/h2&gt;

&lt;p&gt;This one is interesting because it is a use-by-case recommendation. We highly recommend disabiling root login, because a common attack is to brute force against the name of the root superuser.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Please Note&lt;/strong&gt;: If you do plan on disabling Root Login, please test the SSH login with your non-root user that you plan to use for SSH logins &lt;strong&gt;before&lt;/strong&gt; you disable the root account. If you don’t, you may be stuck without a way to access your server through SSH.&lt;/p&gt;

&lt;p&gt;To disable root login, navigate to the config file, locate the “PermitRootLogin” and change that to “no”. This will make it so that you cannot login with the root user anymore.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;PermitRootLogin no
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;5-use-key-based-authentication&quot;&gt;5. Use Key-based Authentication&lt;/h2&gt;

&lt;p&gt;Key-based Authentication (aka Public key authentication), are a much more secure way of authenticating users as they are much less prone to brute force attacks. To enable key-based authentication, you must disable password authentication, this will leave your users with no choice but to use keys.&lt;/p&gt;

&lt;p&gt;Look for these settings and apply the following changes:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;PubkeyAuthentication yes
PasswordAuthentication no
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For more information on key-based authentication and a more detailed guide on setting up keys, please refer to &lt;a href=&quot;https://linux-audit.com/using-ssh-keys-instead-of-passwords/&quot;&gt;this&lt;/a&gt; article.&lt;/p&gt;

&lt;h2 id=&quot;6-check-integrity-of-user-database&quot;&gt;6. Check Integrity of User Database&lt;/h2&gt;

&lt;p&gt;You’ve probably added users to the config file to allow trusted people to access your server. Make sure that there are no old users that have access to your server if they shouldn’t. Again, maybe a bit obvious but can be overlooked.&lt;/p&gt;

&lt;h2 id=&quot;7-disable-agent-agentforwarding&quot;&gt;7. Disable Agent AgentForwarding&lt;/h2&gt;

&lt;p&gt;This is another example of something that is a use-by-case scenario. Since it allows connections outside of your server whilst leaving a socket open on the local machine, anyone with sufficient permissions can connect to and use your local ssh-agent. Unless you’re using something like a jump/bastion server, it is unlikely that you need this. For more information, please refer to this article &lt;a href=&quot;https://heipei.io/2015/02/26/SSH-Agent-Forwarding-considered-harmful/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;To disable agent AgentForwarding, navigate to the following setting in the config file and apply the changes:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;AllowAgentForwarding no
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;8-use-of-a-bastion-host&quot;&gt;8. Use of a Bastion Host&lt;/h2&gt;

&lt;p&gt;A bastion host is a special purpose computer on a network with the purpose of withstanding attacks. They usually host a single application (for example a proxy server) and all other services are removed or limited to reduce the threats on the network through the computer. This means that you can disable public SSH access to all other nodes, and you would have to go through the bastion host to access any other node.&lt;/p&gt;

&lt;p&gt;Having a bastion host can act as perimeter to reduce the attack surface of your network. To set one up, we recommend going through &lt;a href=&quot;https://blog.scottlowe.org/2015/11/21/using-ssh-bastion-host/&quot;&gt;this extensive guide&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;9-limit-users-logging-in-over-ssh&quot;&gt;9. Limit Users Logging in over SSH&lt;/h2&gt;

&lt;p&gt;Limiting which users can login over SSH can save you from worrying who’s able to login and who isn’t. This point is bouncing off of point 6. To allow certain users, we will assume you want only users “Gecko” and “Marko” to login over SSH. Navigate to the SSH config file and add the following line:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;AllowUsers Gecko Marko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;There are many other ways you can secure your OpenSSH configuration, we have outlined the glaring flaws that quite a few developers and admins overlook. We do recommend reading through the config file and checking what can be changed thoroughly as even the small mistakes can result in an attack on your server.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wott.io/&quot;&gt;WoTT&lt;/a&gt; is a developer tool to automatically run CVE scans, audit service configurations, manage your firewalls, simplify mTLS, and more. By using this tool to scan your OpenSSH config, you can cut through the hassle of looking for similar guides online or reading through your config files to make sure everything is as secure as it can be.&lt;/p&gt;</content><author><name>Mahmoud Fahmy</name></author><category term="tutorials" /><category term="tutorials" /><summary type="html">Introduction</summary></entry><entry><title type="html">What is SELinux and Why You Might Want It</title><link href="https://wott.io/blog/tutorials/2019/10/15/what-is-selinux" rel="alternate" type="text/html" title="What is SELinux and Why You Might Want It" /><published>2019-10-15T17:00:00+00:00</published><updated>2019-10-15T17:00:00+00:00</updated><id>https://wott.io/blog/tutorials/2019/10/15/what-is-selinux</id><content type="html" xml:base="https://wott.io/blog/tutorials/2019/10/15/what-is-selinux">&lt;h2 id=&quot;introduction&quot;&gt;Introduction&lt;/h2&gt;

&lt;p&gt;Today we’re going to talk about SELinux - Security Enhanced Linux. For the everyday layman SELinux maybe daunting to setup, but is a good introduction into different ways to manage access control to your systems. More and more we give companies our precious data and the onus should be placed on developers to protect this data with growing cybersecurity threats. So we’re going to show you how to implement SELinux for the security-conscious developer (and talk a little on AppArmor).&lt;/p&gt;

&lt;p&gt;Proceed with caution though - SELinux and AppArmor are MAC protocols (more on that later) and you run the risk of locking yourself out of your own system. If you’re interested in learning a bit more about SELinux and MAC protocols, read on below. If you just want to jump straight into the bare-bones edition, skip straight ahead to the &lt;a href=&quot;#tutorial&quot;&gt;tutorial&lt;/a&gt; itself.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Required Skill Level&lt;/strong&gt;: Medium&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Time to Complete&lt;/strong&gt;: 30 minutes - 1 hour&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Prerequisites&lt;/strong&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Either:
    &lt;ul&gt;
      &lt;li&gt;have SELinux installed&lt;/li&gt;
      &lt;li&gt;use a Red Hat distribution of Linux&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;follow guide to install SELinux for Debian based Linux (Debian, Ubuntu, etc) using &lt;code class=&quot;highlighter-rouge&quot;&gt;apt&lt;/code&gt; package&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;have a virtual machine with your Linux distribution installed&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;an understanding on MAC protocols (will make the tutorial easier) we give a brief introduction if you are not familiar.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;But &lt;em&gt;please&lt;/em&gt; test this out first on a VM to get familiar with MAC protocols as we do not want you locked out of your system.&lt;/p&gt;

&lt;h2 id=&quot;so-what-is-selinux-and-what-is-a-mac-model&quot;&gt;So what is SELinux and what is a MAC Model?&lt;/h2&gt;

&lt;p&gt;SELinux is a US National Security Agency project aimed at improving security in the Linux kernel (more specifically, kernel 2.6.x). You will already be familiar with Discretionary Access Control as it is the system employed by most consumer Operating Systems. File permissions are determined by the creator/user, in Linux this is the ‘Access Control List’ - think about times where you have used &lt;code class=&quot;highlighter-rouge&quot;&gt;chmod&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo&lt;/code&gt; to assign read or write permissions.&lt;/p&gt;

&lt;p&gt;Mandatory Access Control, or MAC (not to be confused with Media Access Control) is different. Basically, the &lt;em&gt;operating system&lt;/em&gt; determines access based on a security label (rules for access can be managed by a security officer- usually a single system administrator), not the user that created the file. For Linux, this system exists as SELinux.&lt;/p&gt;

&lt;p&gt;The control is taken away from the user?! Why on Earth would you want that?! Many organisations deal with sensitive data like military or government. Within a military organisation, some information is reserved for specific individuals with associated security labels (need to know, top secret, etc;).&lt;/p&gt;

&lt;p&gt;But beyond that, we tend to entrust our data to many corporations which we don’t want everyone seeing. As a result, enterprise oriented Linux systems, like RedHat Enterprise Linux (RHEL) automatically have SELinux pre-installed. Familiarising yourself with it is absolutely the way to go.&lt;/p&gt;

&lt;p&gt;Think of it this way: let’s say you work for a hospital; you want to manage records of patients. Typically there are a few trusted individuals who have explicit access to these records (to update them, or manage them), but it is the governing board of regulations or the company itself that dictates how this information is shared. Of course, in a hospital, patient records should be confidential and strictly between patient and doctor. You may want another doctor to access your records, but you wouldn’t want your employer or other hospital admin to.&lt;/p&gt;

&lt;p&gt;In other words, there is a hierarchy that defines who has access to certain resources and information. At an organisation level, this is set by regulations. These regulations dictate MAC access.&lt;/p&gt;

&lt;h2 id=&quot;--setting-up-selinux-for-yourself&quot;&gt;&lt;a name=&quot;tutorial&quot;&gt; &lt;/a&gt; Setting up SELinux for yourself&lt;/h2&gt;

&lt;p&gt;SELinux is milder than most MAC models and a good introduction into implementing MAC for your own security. In SELinux, the system administrator is the security officer.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: There are Linux distributions that have SELinux preinstalled, such as RedHat Enterprise Linux (RHEL) and CentOS.&lt;/p&gt;

&lt;p&gt;It’s useful to have SELinux on your servers as it protects your server from malicious or flawed programs. The ‘strength’ of SELinux is at the discretion of the system administrator. It comes in 3 modes:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Disabled&lt;/li&gt;
  &lt;li&gt;Permissive&lt;/li&gt;
  &lt;li&gt;Enforcing&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Permissive prints system warnings but does not enforce the protocol (useful for testing).&lt;/p&gt;

&lt;h2 id=&quot;setting-up-on-ubuntudebian&quot;&gt;Setting Up on Ubuntu/Debian&lt;/h2&gt;

&lt;p&gt;&lt;img alt=&quot;Install SELinux&quot; src=&quot;https://wott.io/assets/blog/selinux-install-72f65214b02923c21821d6911cbdf60173e581ee34cb73c2e928f6c96928b149.png&quot; integrity=&quot;sha256-cvZSFLApI8IYIdaRHL32AXPlge40y3PC6Sj2yWkosUk=&quot; crossorigin=&quot;anonymous&quot; srcset=&quot;https://wott.io/assets/a5153f-06badf9fd1e9447960fa0202152277c7f6d61ffa826007cd78be9f9189ae491c.png 2x, https://wott.io/assets/be60c1-54e86951e7df85b4c498f806f5f1c1f85829a59d7d01fc0eea54fcea159c9bb9.png 1x&quot; /&gt;&lt;/p&gt;

&lt;p&gt;On Ubuntu or Debian, you need to install the required packages by running:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ apt-get install selinux-basics selinux-policy-default auditd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you’re using Ubuntu, download &lt;a href=&quot;https://wiki.debian.org/SELinux/Setup?action=AttachFile&amp;amp;do=view&amp;amp;target=_load_selinux_policy&quot;&gt;this&lt;/a&gt; taken from the Debian Wiki. Copy it into: &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/share/initramfs-tools/scripts/init-bottom/&lt;/code&gt; and run &lt;code class=&quot;highlighter-rouge&quot;&gt;update-initramfs -u &lt;/code&gt; in your terminal session.&lt;/p&gt;

&lt;p&gt;Once done, you can check SELinux is installed/running:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# getenforce
Disabled
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;SELinux is installed but not running, you will need to activate and reboot:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# selinux-activate
# reboot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This should put SELinux into Permissive mode. To check, run &lt;code class=&quot;highlighter-rouge&quot;&gt;sestatus&lt;/code&gt; and you should get the following:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SELinux status:                 enabled
SELinuxfs mount:                /sys/fs/selinux
SELinux root directory:         /etc/selinux
Loaded policy name:             default
Current mode:                   permissive
Mode from config file:          permissive
Policy MLS status:              enabled
Policy deny_unknown status:     allowed
Max kernel policy version:      30
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;setting-modes&quot;&gt;Setting Modes&lt;/h2&gt;

&lt;p&gt;Run:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# audit2why -al
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This will return would-be blocked operations since your last boot. It is tedious but worth going through as SELinux has many reported bugs. We would suggest going through each bug one-by-one and follow &lt;a href=&quot;https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/security-enhanced_linux/sect-security-enhanced_linux-fixing_problems-allowing_access_audit2allow&quot;&gt;this Red Hat guide&lt;/a&gt; for changing access using the &lt;code class=&quot;highlighter-rouge&quot;&gt;audit2allow&lt;/code&gt; command.&lt;/p&gt;

&lt;p&gt;If you are not confident, &lt;strong&gt;we strongly suggest testing this on a virtual machine&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;You can now change the mode to enforcing:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;to test, run: &lt;code class=&quot;highlighter-rouge&quot;&gt;setenforce = 1&lt;/code&gt; in your terminal&lt;/li&gt;
  &lt;li&gt;or if you are confident, add &lt;code class=&quot;highlighter-rouge&quot;&gt;enforcing = 1&lt;/code&gt; to the kernel command line in your &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/default/grub&lt;/code&gt; file&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;and then reboot as earlier. You will now be running SELinux’s default policy. To change this, simply manoeuvre back to the root user and set it back to permissive via &lt;code class=&quot;highlighter-rouge&quot;&gt;setenforce = 0&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Provided you have access to the root user, you can feel free to play around with SELinux’s &lt;a href=&quot;https://docs.fedoraproject.org/en-US/quick-docs/changing-selinux-states-and-modes/&quot;&gt;other policies&lt;/a&gt; until you are comfortable.&lt;/p&gt;

&lt;h2 id=&quot;finishing-up&quot;&gt;Finishing Up&lt;/h2&gt;

&lt;p&gt;And that concludes our intro to SELinux. Play around with policies until you are comfortable, then you can ship SELinux to your own servers with confidence. SELinux essentially acts as a sandbox protecting your information from fradulent or corrupted access by external programs or daemons. As for AppArmor, it’s just another MAC protocol that’s used particularly for Ubuntu. It’s easier to use as it deals with pathing rules; but SELinux is widely considered the more secure of the two. SELinux is better for those who are very familiar with Unix based systems, but AppArmor is another great introduction to MAC.&lt;/p&gt;

&lt;p&gt;SELinux is a great way to implement security, but it is known for its bugs and disruptive mechanisms. Actual sandboxing is another alternative to protecting your kernel.&lt;/p&gt;

&lt;p&gt;Good work getting to the end of this tutorial. You have taken a big step in securing your Linux environment. There are additional steps you can take to improve security posture like CVE scanning, firewall management and service configuration. WoTT can help you do that with a lightweight agent that scans for vulnerabilities and provides clear recommended actions to fix those issues. Get started &lt;a href=&quot;https://wott.io/documentation/getting-started&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;</content><author><name>Fiona McAllister</name></author><category term="tutorials" /><category term="tutorials" /><summary type="html">Introduction</summary></entry><entry><title type="html">Security audit checklist for linux systems</title><link href="https://wott.io/blog/thoughts/2019/10/04/security-audit-checklist-for-linux-systems" rel="alternate" type="text/html" title="Security audit checklist for linux systems" /><published>2019-10-04T10:00:00+00:00</published><updated>2019-10-04T10:00:00+00:00</updated><id>https://wott.io/blog/thoughts/2019/10/04/security-audit-checklist-for-linux-systems</id><content type="html" xml:base="https://wott.io/blog/thoughts/2019/10/04/security-audit-checklist-for-linux-systems">&lt;p&gt;We so often hear from developers that they don’t need to worry about cyber security because they’re too small to be targeted or because they trust their service providers to take care of it for them. Sound like someone you know? Well, let’s start with a quick synopsis of recent cloud failures that were not targeted attacks and where service providers weren’t a silver bullet.  Each of these examples were simply failures in security hygiene.&lt;/p&gt;

&lt;h2 id=&quot;security-fails&quot;&gt;Security Fails&lt;/h2&gt;

&lt;h3 id=&quot;facebook&quot;&gt;Facebook&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Year:&lt;/strong&gt; 2019&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Security Fail:&lt;/strong&gt; Cultura Colectiva (a 3rd party user of Facebook data) exposed 500 million customer phone numbers&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Cause:&lt;/strong&gt; AWS server was configured to be public facing&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Source:&lt;/strong&gt; &lt;a href=&quot;https://www.cbsnews.com/news/millions-facebook-user-records-exposed-amazon-cloud-server/&quot;&gt;CBS News&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;mongodb&quot;&gt;MongoDB&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Year:&lt;/strong&gt; Ongoing&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Security Fail:&lt;/strong&gt; 52,000 databases searchable through &lt;a href=&quot;shodan.io&quot;&gt;Shodan&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Cause:&lt;/strong&gt; If MongoDB is installed with default server settings, it allows anyone to browse, download, edit or delete data&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Source:&lt;/strong&gt; &lt;a href=&quot;https://krebsonsecurity.com/tag/mongodb/&quot;&gt;KrebsOnSecurity&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;capital-one&quot;&gt;Capital One&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Year:&lt;/strong&gt; 2019&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Security Fail:&lt;/strong&gt; 100 million records including bank details and social security&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Cause:&lt;/strong&gt; Misconfigured web application firewall (WAF) in AWS&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Source:&lt;/strong&gt; &lt;a href=&quot;https://krebsonsecurity.com/tag/capital-one-breach/&quot;&gt;KrebsOnSecurity&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;medical-facilities&quot;&gt;Medical facilities&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Year:&lt;/strong&gt; Ongoing&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Fail:&lt;/strong&gt; 187 servers with x-ray and medical data open to public. &amp;gt;1m records with medical procedures, etc.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Cause:&lt;/strong&gt; Medical data exposed to the public internet without requiring authentication&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Source:&lt;/strong&gt; &lt;a href=&quot;https://www.propublica.org/article/millions-of-americans-medical-images-and-data-are-available-on-the-internet&quot;&gt;ProPublica&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;linux-security-audit-checklist&quot;&gt;Linux security audit checklist&lt;/h2&gt;

&lt;p&gt;Still think you’re above the fray? Well maybe you are, so the checklist below will just be reassurance that you and your team have already done everything you need to do. Let’s dig in  with this set of 5 security practices that can get you going in the right direction.&lt;/p&gt;

&lt;h3 id=&quot;1-cve-scanner&quot;&gt;1. CVE scanner&lt;/h3&gt;

&lt;p&gt;The CVE databases are great but, but are you monitoring your system for known vulnerable packages? Most developers will setup a server and then perhaps just periodically update it a few times a year, leaving the server(s) vulnerable for an extended period of time.&lt;/p&gt;

&lt;p&gt;CVE scanners solve this problem by checking the system packages in your operating system against the database and flagging packages that need an update.&lt;/p&gt;

&lt;h3 id=&quot;2-services-audit&quot;&gt;2. Services audit&lt;/h3&gt;

&lt;p&gt;SSH is meant to be secure and is secure when it is configured correctly. Unfortunately, an error configuring SSH can mean that an attacker can apply a brute-force attack against your node(s). Root access, passwordless login, timeout intervals and updates are all points that need to be managed correctly.&lt;/p&gt;

&lt;p&gt;The same is true for any service accessing your server. It’s important to regularly audit your services for threats and vulnerabilities.&lt;/p&gt;

&lt;h3 id=&quot;3-mtls-mutual-tls-for-authentication&quot;&gt;3. mTLS (mutual TLS) for authentication&lt;/h3&gt;

&lt;p&gt;mTLS solves two problems: password management and client side authentication. There are great tools out there for secrets  management like &lt;a href=&quot;https://www.vaultproject.io/&quot;&gt;Vault by Hashicorp&lt;/a&gt;. However, even more sophisticated than passwords and API keys is using TLS certificates for both client and server authentication.&lt;/p&gt;

&lt;p&gt;The difficulty here is in setting up your own CA. &lt;a href=&quot;https://letsencrypt.org/&quot;&gt;Let’s Encrypt&lt;/a&gt; can be used but it is generally not advisable to use a public CA for your internal infrastructure. There are some reliable private CAs as a service like &lt;a href=&quot;https://www.wott.io&quot;&gt;WoTT&lt;/a&gt; that can support your needs.&lt;/p&gt;

&lt;h3 id=&quot;4-firewall-configuration&quot;&gt;4. Firewall configuration&lt;/h3&gt;

&lt;p&gt;Firewall configurations seem fairly trivial, yet so often this is the source of massive breaches at large companies (see above Facebook fail). Tracking and managing the appropriate access to servers can be incredibly difficult at scale.&lt;/p&gt;

&lt;h3 id=&quot;5-selinux-and-apparmor&quot;&gt;5. SELinux and AppArmor&lt;/h3&gt;

&lt;p&gt;Security Enhanced Linux (SELinux) and AppArmor are Linux kernel security modules that support access control policies and include mandatory access controls. Enabling these tools is a rigorous process but provides hardening at the application level.&lt;/p&gt;

&lt;p&gt;SELinux is more sophisticated in its settings but consequently presents more pitfalls to the developer since more decisions need to be made. AppArmor provides similar functionality but requires less customization.&lt;/p&gt;

&lt;h2 id=&quot;automate-cyber-security-checks&quot;&gt;Automate cyber security checks&lt;/h2&gt;

&lt;p&gt;So you know what you need to do but that’s only part of the problem. The bigger part of the problem seems to be making sure these things actually get prioritized and handled consistently. We have a few tips for making that happen.&lt;/p&gt;

&lt;h3 id=&quot;behavior&quot;&gt;Behavior&lt;/h3&gt;

&lt;p&gt;Agile development is too dynamic for retroactive security audits. Build security practice into your team processes and make it part of your DNA. Security does not belong in the hands of a single team, it should be part of a mindset and a culture at the organization level.&lt;/p&gt;

&lt;h3 id=&quot;measure-it-to-manage-it&quot;&gt;Measure it to manage it&lt;/h3&gt;

&lt;p&gt;Create metrics to measure the security dimension and manage performance accordingly. Behavior is nurtured through culture, metrics and rewards. Find ways to attribute numbers to security posture of the individual, the team, the asset and reward your people for making improvements.&lt;/p&gt;

&lt;h3 id=&quot;devsecops-is-taking-over&quot;&gt;DevSecOps is taking over.&lt;/h3&gt;

&lt;p&gt;Integrate security tools into your tool chain. Companies like &lt;a href=&quot;snyk.io&quot;&gt;Snyk &lt;/a&gt; have done an excellent job of auditing dependencies and providing developers with real time feedback.  The &lt;a href=&quot;https://www.nist.gov/sites/default/files/documents/director/planning/report02-3.pdf&quot;&gt;NIST&lt;/a&gt; states that it is at least 10x cheaper to implement security before code is committed. It’s also faster to get things right the first time than to use up product and developer time on bug fixes that are retroactively identified by a security team.&lt;/p&gt;

&lt;p&gt;Consider a tool like &lt;a href=&quot;www.wott.io&quot;&gt;WoTT&lt;/a&gt; to monitor, measure and provide actions to improve security.&lt;/p&gt;</content><author><name>Al Esmail</name></author><category term="thoughts" /><category term="open-source" /><summary type="html">We so often hear from developers that they don’t need to worry about cyber security because they’re too small to be targeted or because they trust their service providers to take care of it for them. Sound like someone you know? Well, let’s start with a quick synopsis of recent cloud failures that were not targeted attacks and where service providers weren’t a silver bullet. Each of these examples were simply failures in security hygiene.</summary></entry><entry><title type="html">The significance of mTLS and why you should care about it</title><link href="https://wott.io/blog/tutorials/2019/09/09/what-is-mtls" rel="alternate" type="text/html" title="The significance of mTLS and why you should care about it" /><published>2019-09-09T08:00:00+00:00</published><updated>2019-09-09T08:00:00+00:00</updated><id>https://wott.io/blog/tutorials/2019/09/09/what-is-mtls</id><content type="html" xml:base="https://wott.io/blog/tutorials/2019/09/09/what-is-mtls">&lt;h2 id=&quot;introduction&quot;&gt;Introduction&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt; there are some &lt;a href=&quot;#how-to-implement-mtls-some-tutorials-by-wott&quot;&gt;tutorials&lt;/a&gt; within this article. These vary in difficulty. All require a linux distribution to be compatible with our agent.&lt;/p&gt;

&lt;p&gt;Cybersecurity is an ever-growing, ever-complicating field. As a new developer, it can be daunting to think of where to start. Here we’re going to talk a little about mTLS and why you as a developer should care about it (and implement it!).&lt;/p&gt;

&lt;p&gt;mTLS is just an extension of TLS (Transport Layer Security). This is commonly found in verifying endpoints and for encrypting communications and for TLS specifically, browsers. The ‘HTTPS’ in a URL is the evidence for this. This part of the URL verifies the identity of the server (the website you’re accessing), to you the client.
Unlike a password which is manually entered by a single user, TLS is typically managed by cryptographic certificates. Most TLS protocols usually verify this with an x509 certificate; and it’s typically the client requesting a valid certificate from the server (DNS name on server must match that of the certificate). Secure Sockets Layer (SSL) security is also based off this principle and HTTPS is its successor.&lt;/p&gt;

&lt;p&gt;The main thing that makes mTLS different (and arguably more secure) is that it requires &lt;em&gt;both&lt;/em&gt; the server and client to verify each other: a handshake. This is particularly useful in a scenario where &lt;em&gt;you&lt;/em&gt; are the server and not the client. Ultimately it’s flexible and lightweight making it perfect for edge devices.&lt;/p&gt;

&lt;p&gt;This might still seem a bit overcomplicated. At WoTT we have our own dedicated Certificate Authority and examples of using the CA to secure mTLS connections. We encourage you to try it out to familiarise yourself with the concept. Additionally, our agent is lightweight and can be used flexibly on servers and other edge devices.&lt;/p&gt;

&lt;h2 id=&quot;how-to-implement-mtls-some-tutorials-by-wott&quot;&gt;How to implement mTLS: some tutorials by WoTT&lt;/h2&gt;

&lt;p&gt;There are actually several different ways to implement an mTLS style security layer for security. We have several examples for you to try and implement yourself of varying difficulties.&lt;/p&gt;

&lt;h3 id=&quot;easy&quot;&gt;Easy&lt;/h3&gt;

&lt;p&gt;We have a very simple to implement tutorial showing how you can use mTLS to secure a basic Web Application using WoTT’s agent as a manager. See &lt;a href=&quot;https://wott.ioblog/tutorials/2019/06/16/simple-webapp&quot;&gt;here&lt;/a&gt; for more details.&lt;/p&gt;

&lt;h3 id=&quot;medium&quot;&gt;Medium&lt;/h3&gt;

&lt;p&gt;If you’re familiar with Nginx servers, we have a useful tutorial to help guide you through setting up mTLS on it using our CA. See &lt;a href=&quot;https://wott.ioblog/tutorials/2019/07/15/mtls-with-nginx&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;hard&quot;&gt;Hard&lt;/h3&gt;

&lt;p&gt;(Recommended after following Nginx tutorial) you may want to up the ante if you have a Kubernetes cluster you want to secure. If you want to dive into securing Kubernetes with mTLS using WoTT, go &lt;a href=&quot;}}site.url}}blog/tutorials/2019/07/18/edge-to-kubernetes&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The important thing to take away is that you need a Certificate Authority from which to configure your system to. WoTT provides one for you. All these examples are designed to be adaptable so feel free to modify them at your will. If you don’t feel a particular need to know how mTLS actually works, feel free to just skip to the &lt;a href=&quot;#conclusions&quot;&gt;end&lt;/a&gt; or explore the rest of WoTT. We have several &lt;a href=&quot;https://wott.ioblog/tutorials&quot;&gt;other articles&lt;/a&gt; on how to use our agent with your system.&lt;/p&gt;

&lt;h2 id=&quot;how-it-works&quot;&gt;How it works&lt;/h2&gt;

&lt;p&gt;After all that you may still be interested in how mTLS actually works.
First of all, mTLS is configurable. It is up to the server and client to decide which certificates are considered ‘trustworthy.’ In the examples that we provided, we set up the system in a way to trust only WoTT provided certificates; but you absolutely can modify this to include other CA provided certificates. It is up to the developer’s discretion.&lt;/p&gt;

&lt;p&gt;But how does it actually work? We’ve mentioned already the ‘handshake’ as a concept, but this is actually the name given to the technology TLS uses. The TLS handshake protocol can be found &lt;a href=&quot;https://www.ietf.org/rfc/rfc5246.txt&quot;&gt;here&lt;/a&gt; but it’s long and wordy. What’s important to know is that the TLS protocol is part of a layered structure and is sat between the transport (also known as TCP) and application layers.&lt;/p&gt;

&lt;p&gt;&lt;img alt=&quot;Breakdown of the TLS structure&quot; src=&quot;https://wott.io/assets/blog/tls-structure-2e96558fd725e62a46616610d89c794d541b3260e95e7b7fd77d5b80e896e004.png&quot; integrity=&quot;sha256-LpZVj9cl5ipGYWYQ2Jx5TVQbMmDpXnt/131bgOiW4AQ=&quot; crossorigin=&quot;anonymous&quot; srcset=&quot;https://wott.io/assets/7c278c-7e65cf9af1af56a708d8853234e1c83baa9adf96966af6db5c520d7e152f28ca.png 2x, https://wott.io/assets/33e2ec-78116ae719e1d019fe5670544f8f466e28f920c1b3068668d4747b4b4d2920d9.png 1x&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The protocol/handshake layer is where the cryptographic ‘magic’ takes place. It manages the encryption algorithm used (also known as cipher) and public key exchange which is contained within a certificate. This certificate is signed for by a Certificate Authority and is what gives an endpoint its cryptographic identity. Basically, the server being accessed has an associated x509 certificate from a CA which is exchanged in this handshake protocol. This certificate contains information regarding the server’s name, its public key, and a ‘signature.’ This is why we often refer to this as ‘digital signage.’&lt;/p&gt;

&lt;p&gt;The certificate is then verified by each endpoint according to its signature which is the provider of the certificate, the CA. With mTLS, it’s the exact same except both the server and client verify each other so each endpoint has an x509 certificate. You can think of the CA as vouching for a device’s identity.&lt;/p&gt;

&lt;p&gt;The actual components of a certificate are determined by a greater structure called PKI (public key infrastructure). PKI is a set of tools that allows for you to encrypt or digitally sign data as with certificates. Within the PKI architecture includes the Certificate Authority which is a trusted third party that signs off on a digital certificate. General services are often signed for by a public CA which will verify any user. As we’ve said before, WoTT has its own CA but WoTT’s CA is private ensuring that only recognised users are signed for.&lt;/p&gt;

&lt;p&gt;Therefore, WoTT uses a PKI structure in order to generate key components of our certificates. At WoTT, we assign each device a unique WoTT ID. This is publically available in your WoTT certificate that is downloaded to your device. If you have the agent installed, you can check this ID with the simple command &lt;code class=&quot;highlighter-rouge&quot;&gt;wott-agent whoami&lt;/code&gt;. When you have the agent, WoTT will fetch certificates to your device (and these are updated every 7 days. You can check the status of this on your dashboard).&lt;/p&gt;

&lt;p&gt;&lt;img alt=&quot;WoTT device&quot; src=&quot;https://wott.io/assets/blog/select-device-09b05af09e62255d190bd53a30313b0c8a0ab88d0bcb474e878e04480a8389c9.png&quot; integrity=&quot;sha256-CbBa8J5iJV0ZC9U6MDE7DIoKuI0Ly0dOh44ESAqDick=&quot; crossorigin=&quot;anonymous&quot; srcset=&quot;https://wott.io/assets/f88e13-626f9aa1cc6076aec2e56dce4384d755f9291da12622acdb540d842364a678ef.png 2x, https://wott.io/assets/7e65ae-a9114c7015a0e7fb5b0c12bc87e19f4fba842e38cc033c77213fdaf64ad0ce24.png 1x&quot; /&gt;
&lt;img alt=&quot;security tab&quot; src=&quot;https://wott.io/assets/blog/device-security-9e17c773b44f4df5ea7301c3d9950adfa0a80e83ee7144263766254afc96398a.png&quot; integrity=&quot;sha256-nhfHc7RPTfXqcwHD2ZUK36CoDoPucUQmN2YlSvyWOYo=&quot; crossorigin=&quot;anonymous&quot; srcset=&quot;https://wott.io/assets/8f62d7-eb2229f38bb6656db91634488d664d2d938395aa8efe586b4a3566fffa6f3f10.png 2x, https://wott.io/assets/a8a481-0be01d1d4f0c1a94720dae79bb788388decd0dc4008a853a54bce17ed0c71ade.png 1x&quot; /&gt;&lt;/p&gt;

&lt;p&gt;scroll down the security tab to see.&lt;/p&gt;

&lt;p&gt;&lt;img alt=&quot;certificate expiry and renewal date&quot; src=&quot;https://wott.io/assets/blog/certificate-expiry-5e4eca8496c6472ae178be1032fe637e4423ff940bff03096d9d40ad2e5caf37.png&quot; integrity=&quot;sha256-Xk7KhJbGRyrheL4QMv5jfkQj/5QL/wMJbZ1ArS5crzc=&quot; crossorigin=&quot;anonymous&quot; srcset=&quot;https://wott.io/assets/3f18b6-e099b3450fcda82e581a8e9330308526b299fd6837e707df2698f1b1e6c62d94.png 2x, https://wott.io/assets/bf058c-8b2164b5ba5604509486b1f8cef1e8b62492428d056ceaa4b62949a7d8c1e48b.png 1x&quot; /&gt;&lt;/p&gt;

&lt;p&gt;On your node itself, WoTT will have downloaded 4 files.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ca.crt
client.crt
client.key
combined.pem
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;ca.crt&lt;/code&gt; is the root certificate that is fetched from WoTT. This is what is used to validate your &lt;code class=&quot;highlighter-rouge&quot;&gt;client.crt&lt;/code&gt; (which contains the device’s public key). The other two files contain your private keys and should never leave the device.&lt;/p&gt;

&lt;h2 id=&quot;why-you-should-care&quot;&gt;Why you should care?&lt;/h2&gt;

&lt;p&gt;For a start, it’s probably the most common thing used since SSL became outdated. Several companies use mTLS. For example Skype uses it to secure business servers; and Cloudflare is a large provider of PKI for mTLS. It’s particularly important in cases where you want encrypted, secure traffic in &lt;em&gt;both&lt;/em&gt; directions. Many devices now do not use logins (such as IoT devices) meaning that they would either be blocked from accessing a resource, or access a resource insecurely. Additionally, not using TLS or similar encryption tools without authentication can lead to ‘man in the middle attacks.’ Using mTLS is a way to provide an identity to a device/server that can be cryptographically verified. In other words, it’s a way of making your resources more flexible and available whilst still being secure through authentication.&lt;/p&gt;

&lt;p&gt;It’s also a good way for you to secure yourself if you intend on being a server provider. Much of how internet security is done currently is verifying a server from a given client, it’s a lot harder to protect yourself as the server. Usernames and passwords are an option, but they are exploitable and unreliable. More and more there is a need to move away from such technologies and start using cryptographic signage to identify trustworthy devices. Of course, no technology is perfect. TLS is updated frequently to counter this and it is the developer’s responsibility to choose trusted CAs. For now, mTLS is a strong, lightweight method of securing your server and client endpoints.&lt;/p&gt;

&lt;h2 id=&quot;conclusions&quot;&gt;Conclusions&lt;/h2&gt;

&lt;p&gt;To summarise, mTLS is just a modified version of TLS (Transport Layer Security). It uses the same protocols and technologies, it’s just a two-way verification instead of one (for example accessing a https link is simple TLS security). However, it is vital to support your TLS structure with a PKI backend in order to make your product scalable and safe.&lt;/p&gt;

&lt;p&gt;mTLS is the best option we have currently to protect servers from fraudulent devices and is an absolute must when dealing with certain tech domains like IoT. Many IoT breaches to date have been due to unencrypted traffic that doesn’t protect the server (and leads to entire networks being brought down). There’s also no real excuse &lt;em&gt;not&lt;/em&gt; to implement it. All you need is a private CA and here at WoTT we provide that for you as well as other features to help you manage and keep track of your devices. For example, you can control through our agent which device certificates you want to trust on individual endpoints giving you the freedom to make your server as flexible or secure as you need. Our agent gives you a high level view and capabilities to manage your devices in a user-friendly and visual way.&lt;/p&gt;

&lt;p&gt;If you’re not quite ready to move to mTLS fully, let’s at least make sure you’ve secured your devices to the best of your ability. Why not do a &lt;a href=&quot;https://wott.io/blog/tutorials/2019/11/04/cve&quot;&gt;CVE scan&lt;/a&gt; while you’re here to get a feel for how secure your endpoints actually are. WoTT is lightweight and can be installed on a variety of linux based devices from servers to raspberry pis. Until then, feel free to familiarise yourself with our agent and mTLS examples.&lt;/p&gt;</content><author><name>Fiona McAllister</name></author><category term="[&quot;tutorials&quot;]" /><category term="open-source" /><summary type="html">Introduction</summary></entry><entry><title type="html">IoT Encryption Failures and how to avoid them</title><link href="https://wott.io/blog/news/thoughts/2019/08/28/iot-encryption-failures-and-how-to-avoid-them" rel="alternate" type="text/html" title="IoT Encryption Failures and how to avoid them" /><published>2019-08-28T12:00:00+00:00</published><updated>2019-08-28T12:00:00+00:00</updated><id>https://wott.io/blog/news/thoughts/2019/08/28/iot-encryption-failures-and-how-to-avoid-them</id><content type="html" xml:base="https://wott.io/blog/news/thoughts/2019/08/28/iot-encryption-failures-and-how-to-avoid-them">&lt;h1 id=&quot;iot-encryption-failures-and-how-to-avoid-them&quot;&gt;IoT encryption failures and how to avoid them&lt;/h1&gt;

&lt;h2 id=&quot;introduction&quot;&gt;Introduction&lt;/h2&gt;

&lt;p&gt;The stories of misconfigured security systems leading to leaks of client data are common. Take for example the Equifax data breach back in 2017. The vulnerability was detected with a great delay due to expired certificates. According to &lt;a href=&quot;https://www.venafi.com/blog/7-data-breaches-caused-human-error-did-encryption-play-role&quot;&gt;Venafi&lt;/a&gt; &lt;em&gt;The device inspecting encrypted traffic was misconfigured because of a digital certificate that had expired ten months earlier. This along with other oversights enabled a digital attacker to crack into Equifax’s system in mid-May and maintain their access until the end of July&lt;/em&gt;. Another example of how certificates can have a massive impact is the case of &lt;a href=&quot;https://www.zdnet.com/article/ericsson-expired-certificate-caused-o2-and-softbank-outages/&quot;&gt;Ericsson&lt;/a&gt;. An expired certificate of the Swedish Telecommunications Company caused a major outage in 11 countries in December 2018 with over 32 million users affected by it.&lt;/p&gt;

&lt;p&gt;The reality of the situation for IoT or any stack, is that there is no single solution, button or line of code to protect it in its whole. Devices use different platforms, servers, connectivity domains, and protocols. There is potential for failure which can lead to serious data-breaching issues. In the case of encryption, developers may be unwittingly more susceptible or prone to error than they realize.&lt;/p&gt;

&lt;h2 id=&quot;iot-encryption-failures&quot;&gt;IoT Encryption Failures&lt;/h2&gt;

&lt;p&gt;The problem with devices and networks does not always lie in not having encryption but in the way encryption is applied. Following security guidelines is a good step but like many security systems, the devil is in the details and being overzealous is a good thing in this case. Let’s take a closer look:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Misconfigured IoT encryption&lt;/strong&gt;. The added layers and the diversity of protocols in IoT create additional failure points where encryption can be incorrectly implemented (e.g. sensor to IoT device via SCADA &amp;gt; IoT device to IoT gateway via LPWAN &amp;gt; IoT gateway to MQTT broker via TCP/IP). A single hole caused by a configuration mistake on the platform, on the network, on the cloud or on the device may compromise the entire tech stack. A slight mistake could have tremendous consequences and land your company some unsavoury headlines in the press.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Regulatory compliance alone does not protect devices&lt;/strong&gt;. Never assume that implementing a basic set of guidelines is enough. In fact, it is merely the beginning. Regulatory compliance for the sake of abiding to a set of standard rules is not security. What should be done is use those rules as a base and enhance them with IoT specific security solutions that suit your deployment. This way, security and IoT encryption are maximised on all layers and at all points.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Not keeping track of machine identity protection&lt;/strong&gt;. Consider the scale of managing a fleet of thousands of devices (millions are possible, but let’s not break our minds). Managing SSL/TLS certificates at IoT scale is a daunting task, particularly if you issue the certificates manually (which is why most fail to use it altogether). Imagine the workload and the time wasted on a process which could and should be automated. TLS protocols grant secure communication over a network (assuming properly implemented). Security best practice dictates that certificates should have a lifespan of a days or hours to mitigate the impact of a leak. This is where &lt;a href=&quot;https://wott.io/blog/thoughts/2019/06/22/wott-secures-the-internet-of-things&quot;&gt;automating TLS certificate and key-issuing&lt;/a&gt; comes handy. By automating the certificate-issuing process, we reduce the burden that developers would face and eliminate human error.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Poor Key Management&lt;/strong&gt;. Encryption keys are like passwords. Storing your keys on disk is not ideal.The only way to efficiently handle this situation is to have a Trusted Platform Module (TPM). TPM is a cryptographic Module which enhances computer security and boosts privacy. It is designed to ward off software compromising. Unfortunately this is still relatively rare outside of high-compliance devices largely due to the added complexity and added hardware components.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Using weak, vulnerable, unknown or untested cryptographic algorithms&lt;/strong&gt;. Encryption is performed based on ciphers, complex algorithms and best developed by mathematical sophisticates. Some companies or developers choose to build and use their own encryption algorithms. This is a risky practice, particularly if it is not updated or reviewed for a prolonged period. Moreover, encryption protocols should undergo rigorous peer review and audit as is done in &lt;a href=&quot;https://wott.io/blog/thoughts/2019/06/25/why-open-source-solutions-are-critical-for-IoT&quot;&gt;open source&lt;/a&gt; security tools. It is better and more secure to use the already-tested and secure algorithms which are available out there. Some of the most popular encryption algorithms are: RSA, Advanced Encryption Standard (AES) and ECDSA. These are updated and they evolve so that they can help fend off cyber-attacks.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Relying solely on cloud providers for securing your data&lt;/strong&gt;. Securing data on the cloud and opting for a trustworthy provider is essential yet, this is only one piece of the security puzzle. Admittedly, cloud providers are all doing a good job towards securing the data we all store in the cloud. This, however, does not mean that a data leak is not possible. The cloud only covers one area of your architecture and even on the cloud, there are settings that must be configured correctly by the customer. Do you really believe that a 3rd party service, even AWS is taking full responsibility for your entire stack? Will it matter when -your- client data is leaked? IoT encryption is not only about securing a certain layer or point in the architecture. It needs to be holistic and cover database to customer data, to identity and access management, and of course, down to the IoT device itself. In cases of organisations and enterprises, this is where &lt;a href=&quot;https://wott.io/blog/thoughts/2019/06/23/why-shift-left-security-is-relevant-for-iot&quot;&gt;DevSecOps&lt;/a&gt; can be of great help.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;The complexity of the IoT ecosystem and the uniqueness of every deployment creates many potential IoT encryption failures and security failures in general. These mistakes are avoided only with the provision of easy-to-integrate IoT security solutions. We at &lt;a href=&quot;https://wott.io/&quot;&gt;Wott&lt;/a&gt; offer tools for developers to help harden the security of IoT devices and to fix vulnerabilities during the development process. We offer a seamless and easy-to-use solution which is open source, cloud-agnostic and integrates easily with most  common hardware and operating system providers so that your IoT infrastructure remains secure.&lt;/p&gt;</content><author><name>Nikoletta Triantafyllopoulou</name></author><category term="[&quot;news&quot;, &quot;thoughts&quot;]" /><category term="open-source" /><summary type="html">IoT encryption failures and how to avoid them</summary></entry></feed>